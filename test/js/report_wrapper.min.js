{parsePageParamsFromUrl(window.location.href);const CHANGE_LANG_NOTIFY_ARRAY=getChangeLangNotifyArrayOfCurrentPage();const htmlElement=getHtmlElement();CHANGE_LANG_NOTIFY_ARRAY.push(e=>{htmlElement.setAttribute(LANG_PROPERTY,e)})}{const previewIframe=document.getElementById("brickPageIframe");const reportWindow=previewIframe.contentWindow;const anqiReportObjectAndEvent=window;anqiReportObjectAndEvent.reportWindow=reportWindow;anqiReportObjectAndEvent.postBuild=()=>{const{anqiReportMessageCoreData:{title:e,css:t,html:n,lang:a}}=window;reportWindow.postMessage({command:"build",data:{title:e,css:t,html:n,lang:a}},"*")};anqiReportObjectAndEvent.postChangeCss=()=>{const{anqiReportMessageCoreData:{css:e}}=window;reportWindow.postMessage({command:"changeCss",data:{css:e}},"*")};anqiReportObjectAndEvent.postChangeLang=()=>{const{anqiReportMessageCoreData:{lang:e}}=window;reportWindow.postMessage({command:"changeLang",data:{lang:e}},"*")};anqiReportObjectAndEvent.postPrint=()=>{reportWindow.postMessage({command:"print",data:{}},"*")}}{const brickPageSponsorImage=document.getElementById("brickPageSponsorImage");brickPageSponsorImage.onclick=e=>{brickPageSponsorImage.style.display="none";e.preventDefault();e.stopPropagation();return false};const previewButtonElements=document.getElementById("brickPageToolbar").children;const previewButtonElementsCount=previewButtonElements.length;for(let e=0;e<previewButtonElementsCount;++e){const span=previewButtonElements.item(e);span.onclick=()=>{switch(e){case 0:break;case 1:window.postPrint();break;case 2:break;case 3:brickPageSponsorImage.style.display="block";break;default:break}}}}(()=>{function n(){const e=window.buildEvent;if(e){const{title:t,css:n,html:a}=e();window.postBuild()}}function t(e){const{anqiReportData:t}=window;const{configData:n}=t;for(const a in e){switch(a){case"paperWidth":n.paperWidth=e.paperWidth;break;case"paperHeight":n.paperHeight=e.paperHeight;break;case"marginTop":n.marginTop=e.marginTop;break;case"marginLeft":n.marginLeft=e.marginLeft;break;case"marginRight":n.marginRight=e.marginRight;break;case"marginBottom":n.marginBottom=e.marginBottom;break;case"otherData":n.otherData=e.otherData;break;default:break}}t.configJson=JSON.stringify(n)}const o=e=>{t(e)};const i=createElement("input");i.type="file";i.onchange=()=>{if(!i.files)return;const e=i.files[0];const{name:t,size:n}=e;console.log("read file:",t,n);const a=new FileReader;a.readAsText(e);a.onload=function(){const e=this.result;const t=JSON.parse(e);console.log(e,t);o(t)}};function a(){const{anqiReportData:e}=window;t(JSON.parse(e.defaultConfigJson))}function r(){i.click()}function s(){const{anqiReportData:e}=window;const t=new Blob([e.configJson],{type:"application/json"});const n=`anqisoft_${e.reportNameI18n[getCurrentLang()]}_${convertDateToYYYYMMDD_hhmmss(new Date)}.config`;if("msSaveOrOpenBlob"in navigator){window.navigator.msSaveOrOpenBlob(t,n)}else{const a=window.URL.createObjectURL(t);const o=createElement("a");o.href=a;o.setAttribute("download",n);o.click()}}const c=document.getElementById("brickPageConfigCoreToolbar").children;const e=c.length;for(let t=0;t<e;++t){const e=c.item(t);e.onclick=()=>{switch(t){case 0:n();break;case 1:a();break;case 2:r();break;case 3:s();break;default:break}}}updateUIByCurrentLang()})();{init({pageSubject:{en:"Page Title",zh_cn:"页面标题",zh_tw:"頁面標題"},pageSummary:{en:"Page Summary",zh_cn:"页面描述",zh_tw:"頁面描述"},reportNameI18n:{en:"Report",zh_cn:"报表",zh_tw:"報表"},defaultConfigJson:"{}",itemTableHeadTrColumnsInfo:[{en:"Faces",zh_cn:"面",zh_tw:"面"},{en:"Side",zh_cn:"边",zh_tw:"邊"},{en:"Contents of all sides",zh_cn:"各面内容",zh_tw:"各面內容"},{en:"Outside Boundary Line Style",zh_cn:"外边界线样式",zh_tw:"外邊界線樣式"},{en:"Interior Line Style",zh_cn:"内部线样式",zh_tw:"內部線樣式"},{en:"Text Style",zh_cn:"文本样式",zh_tw:"文字樣式"}],initItemUsableButtonsWrap:e=>{}})}{const brickPageMainContentSubject=document.getElementById("brickPageMainContentSubject");LANG_ARRAY.forEach(t=>{const n=document.createElement(t);brickPageMainContentSubject?.appendChild(n);LANG_ARRAY.filter(e=>e!==t).forEach(e=>{const t=document.createElement("button");n.appendChild(t);t.type="button";t.textContent=CHANGE_LANG_BUTTON_TEXT_MAP[e];t.style.position="relative";t.style.marginLeft="2em";t.style.top="0.5em";t.onclick=()=>{setCurrentLang(e)}})});const brickPageMainPreviewSubject=document.getElementById("brickPageMainPreviewSubject");brickPageMainPreviewSubject.style.position="relative";const image=document.createElement("img");brickPageMainPreviewSubject.appendChild(image);image.setAttribute("src","./images/sponsor.jpg");image.setAttribute("alt","./images/sponsor.jpg");const{style}=image;style.width="8vw";style.height="8vw";style.position="absolute";style.top="0.5vw";style.right="2vw"}function init(e){if(window.report_wrapper_inited)return;window.report_wrapper_inited=true;const{pageSubject:t,pageSummary:n,reportNameI18n:a,defaultConfigJson:o}=e;document.getElementById("brickPageSubjectText").innerHTML=getHtmlFromI18nable(t);document.getElementById("brickPageSummary").innerHTML=getHtmlFromI18nable(n);const i=Object.assign({paperWidth:210,paperHeight:297,marginTop:15,marginLeft:10,marginRight:10,marginBottom:25,otherData:{},itemArray:[]},o.length>2?JSON.parse(o):{});const r=JSON.stringify(i);const s=JSON.parse(r);window.anqiReportData={reportNameI18n:a,configData:s,configJson:r,defaultConfigJson:r};const c=getCurrentPageLocalStorage();if(c.length>0){window.updateConfig(JSON.parse(c))}}