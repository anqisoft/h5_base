const CURRENT_URL=window.location.href;const HOME_URL=CURRENT_URL.startsWith("file:///")?CURRENT_URL.substring(0,CURRENT_URL.lastIndexOf("/")+1).concat("index.htm"):CURRENT_URL.split("/").splice(0,3).join("/").concat("/");const SITE_ROOT=HOME_URL.substring(0,HOME_URL.lastIndexOf("/")+1);const SITE_IMAGE_PATH=`${SITE_ROOT}images/`;const SITE_JAVASCRIPT_PATH=`${SITE_ROOT}js/`;const SITE_CSS_PATH=`${SITE_ROOT}css/`;const getPageParameterByName=(t,e)=>{const n=CURRENT_URL.replace("?","&");const r=`${t}=`;return n.indexOf(`&${r}`)===-1?e||"":decodeURIComponent(n.split("&").slice(1).filter(t=>t.startsWith(r))[0].split("=")[1])};const LANG_PROPERTY="edu-lang";const MONTH_FULL_NAME_ARRAY=["Monday","Tuseday","Wednesday","Thursday","Friday","Saturday","Sunday"];const MONTH_NAME_ARRAY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"];function parsePageParamsFromUrl(r){window.anqiData=window.anqiData||{};const t=window.anqiData;r=r.replace("?","&").toLowerCase();const o=r.split("&").slice(1);function e(t,e){const n=`${t}=`;if(r.indexOf(n)===-1)return e;return o.filter(t=>t.startsWith(`&${n}`))[0].split("=")[1]}const n=e("lang","en");const i=["en","zh_cn","zh_tw"].indexOf(n)===-1?"en":n;const s=Math.max(0,parseFloat(e("thickess","0.2")));const a=e("a3","true")==="true";const l=e("landscape","false")==="true";const c=Math.max(0,parseFloat(e("top","15")));const m=Math.max(0,parseFloat(e("left","10")));const g=Math.max(0,parseInt(e("no","1")));const p=parseFloat(e("width","0"))||(a?l?420:297:l?297:210);const u=parseFloat(e("height","0"))||(a?l?297:420:l?210:297);const d=p-m*2;const A=u-c*2;t.LANG=i;t.THICKESS=s;t.A3=a;t.LANDSCAPE=l;t.PAGE_PADDING_TOP=c;t.PAGE_PADDING_LEFT=m;t.PAPER_WIDTH=p;t.PAPER_HEIGHT=u;t.PAGE_WIDTH=d;t.PAGE_HEIGHT=A;t.NO=g;const h=new DPIHelper;t.MM_TO_PX_SCALE=h.getMmToPxScale();t.PX_TO_MM_SCALE=h.getPxToMmScale()}function getPageCss(){const{A3:t,LANDSCAPE:e,PAGE_PADDING_TOP:n,PAGE_PADDING_LEFT:r,PAGE_WIDTH:o,PAGE_HEIGHT:i}=window.anqiData;return`\@media print\{\@page\{size:${t?"A3":"A4"} ${e?"landscape":"portrait"};\} \}
*\{margin:0;border:0;padding:0;\}
page:not(:last-of-type)\{page-break-after:always;\}
page\{padding-top:${n}mm;padding-left:${r}mm;display:block;width:${o}mm;height:${i}mm;position:relative;overflow:hidden;\}`}function setF1Content(e){document.onkeydown=function(t){switch(t.keyCode){case 112:alert(e);t.preventDefault();t.stopPropagation();break;default:break}return false}}function getNumbersArray(e,n){const r=[];for(let t=e;t<=n;++t)r.push(t.toString());return r}const LOCAL_STORAGE_KEY_OF_LANG="lang";const LOCAL_STORAGE_KEY_OF_CURRENT_PAGE=CURRENT_URL.includes("?")?CURRENT_URL.split("?")[1]:CURRENT_URL;const CHANGE_LANG_NOTIFY_ARRAY=[];const getCurrentLang=()=>localStorage.getItem(LOCAL_STORAGE_KEY_OF_LANG)||"zh_cn";const setCurrentLang=t=>{getHtmlElement().setAttribute(LANG_PROPERTY,t);localStorage.setItem(LOCAL_STORAGE_KEY_OF_LANG,t);updateUIByCurrentLang()};const updateUIByCurrentLang=()=>{const e=getCurrentLang();CHANGE_LANG_NOTIFY_ARRAY.forEach(t=>t(e))};const getCurrentPageLocalStorage=()=>localStorage.getItem(LOCAL_STORAGE_KEY_OF_CURRENT_PAGE)||"";const setCurrentPageLocalStorage=t=>localStorage.setItem(LOCAL_STORAGE_KEY_OF_CURRENT_PAGE,t);const getChangeLangNotifyArrayOfCurrentPage=()=>CHANGE_LANG_NOTIFY_ARRAY;const clearChangeLangNotifyArrayOfCurrentPage=()=>{CHANGE_LANG_NOTIFY_ARRAY.length=0};class DPIHelper{dpiArray=[];dpiX=0;mmToPxScale=0;pxToMmScale=0;constructor(){const t=window.screen;const{dpiArray:e}=this;if(t.deviceXDPI){e.push(t.deviceXDPI);e.push(t.deviceYDPI)}else{const r=document.createElement("div");r.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden";document.body.appendChild(r);e.push(parseInt(r.offsetWidth.toString()));e.push(parseInt(r.offsetHeight.toString()));document.body.removeChild(r)}const n=e[0];this.dpiX=n;this.mmToPxScale=n/25.4;this.pxToMmScale=25.4/n}convertPxToMm=t=>t/this.dpiX*25.4;convertMmToPx=t=>t/25.4*this.dpiX;getMmToPxScale=()=>this.mmToPxScale;getPxToMmScale=()=>this.pxToMmScale}function isI18nable(t){return typeof t!=="undefined"&&t!==null&&typeof t!=="string"&&typeof t.en==="string"&&typeof t.zh_cn==="string"&&typeof t.zh_tw==="string"}function hide(t){if(t)t.style.display="none"}function showBlock(t){if(t)t.style.display="block"}function showInlineBlock(t){if(t)t.style.display="inline-block"}function showFlex(t){if(t)t.style.display="flex"}function showInlineFlex(t){if(t)t.style.display="inline-flex"}function getElementById(t){return document.getElementById(t)}function getElementByIdAndTagName(t,e){return document.getElementById(t)}function querySelectorAll(t){return document.querySelectorAll(t)}function querySelectorAllByI18n(){return document.querySelectorAll("[i18n]")}function querySelectorAllByI18nPlaceholder(){return document.querySelectorAll("[i18n-placeholder]")}function getElementsByTagName(t){return document.getElementsByTagName(t)}function getHeadElement(){return document.getElementsByTagName("head")[0]}function getHtmlElement(){return document.getElementsByTagName("html")[0]}function getBodyElement(){return document.getElementsByTagName("body")[0]}function getTitleElement(){return document.getElementsByTagName("title")[0]}function getHeaderElement(){return document.getElementsByTagName("header")[0]}function getFooterElement(){return document.getElementsByTagName("footer")[0]}function getMainElement(){return document.getElementsByTagName("main")[0]}function createElement(t,e){return document.createElement(t,e)}function setAttributesOfA(t,e){t.setAttribute("href",e);if(!e.startsWith("mailto:")){t.setAttribute("target","_blank")}}function stopEventBubble(t){t.cancelBubble=true;t.preventDefault();t.stopPropagation();return false}function getI18nInnerHTML({en:t,zh_cn:e,zh_tw:n}){return`<en>${t}</en><zh_cn>${e}</zh_cn><zh_tw>${n}</zh_tw>`}function getI18nInnerHTMLFromDate(t){const e=`${MONTH_NAME_ARRAY[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`;const n=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`;const r=n;return`<en>${e}</en><zh_cn>${n}</zh_cn><zh_tw>${r}</zh_tw>`}function createPageElement(){return document.createElement("page")}function createSvgElement(t,e,n){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.innerHTML=t;r.setAttribute("version","1.1");r.setAttribute("xmlns","http://www.w3.org/2000/svg");r.setAttribute("width",`${e}mm`);r.setAttribute("height",`${n}mm`);return{svgElement:r,width:e,height:n}}function createSvgGElement(t,e,n){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.innerHTML=t;r.setAttribute("width",`${e}mm`);r.setAttribute("height",`${n}mm`);return{gElement:r,width:e,height:n}}function createSvgAndGElement({html:t,width:e,height:n}){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("version","1.1");r.setAttribute("xmlns","http://www.w3.org/2000/svg");r.setAttribute("width",`${e}mm`);r.setAttribute("height",`${n}mm`);const o=createSvgGElement(t,e,n).gElement;r.appendChild(o);return{svgElement:r,gElement:o,width:e,height:n}}function appendSvgAndG(t,e,n){const{abs:r,sin:o,cos:i,PI:s}=Math;const{svgElement:a,gElement:l,width:c,height:m}=e;const{left:g,right:p,top:u,bottom:d,degree:A}=n;const{PAGE_WIDTH:h,PAGE_HEIGHT:E}=window.anqiData;const _="undefined"!==typeof g?g:h-c-p;const f="undefined"!==typeof u?u:E-m-d;t.appendChild(a);a.setAttribute("x",`${_}mm`);a.setAttribute("y",`${f}mm`);if(!A)return;l.setAttribute("transform",`rotate(${A})`);l.style.transformOrigin="50% 50%";if(A===180||A===-180)return;let T=0,x=0,S=1,y=1,b=1,N=1;if(A<=-90){const O=-90-A;const $=s*O/180;T=c*o($)+m*i($);x=c*i($)+m*o($);b=-1;N=-1;S=-1;y=1}else if(A<0){const O=-A;const $=s*O/180;T=c*i($)+m*o($);x=c*o($)+m*i($);b=-1;N=1;S=1;y=1}else if(A<=90){const $=s*A/180;T=c*i($)+m*o($);x=c*o($)+m*i($);b=-1;N=-1;S=1;y=-1}else if(A<180){const O=A-90;const $=s*O/180;T=c*i($)+m*o($);x=c*o($)+m*i($);b=-1;N=1;S=1;y=1}const w=T-c;const L=x-m;const P=w*.5;const R=L*.5;const I=P*S;const C=R*y;if(T<0||x<0){console.log({degree:A,cos:i(A),sin:o(A),newWidth:T,newHeight:x,x:_,HALF_DELTA_WIDTH:P,fixValueByRight:"undefined"!==typeof p?2:1,newX:_+P*("undefined"!==typeof p?2:1),y:f,HALF_DELTA_HEIGHT:R,newY:f+R,G_DELTA_X:I,G_DELTA_Y:C})}a.setAttribute("width",`${T}mm`);a.setAttribute("height",`${x}mm`);a.setAttribute("x",`${_+P*b*("undefined"!==typeof p?2:1)}mm`);a.setAttribute("y",`${f+R*N}mm`);l.style.translate=`${I}mm ${C}mm`}function createTopSvgElement(){const{PAGE_WIDTH:t,PAGE_HEIGHT:e}=window.anqiData;const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("version","1.1");n.setAttribute("width",`${t}mm`);n.setAttribute("height",`${e}mm`);return n}const SVG_NS="http://www.w3.org/2000/svg";const SVG_XLINKNS="http://www.w3.org/1999/xlink";class SvgHelper{static createSvg=()=>{const t=document.createElementNS(SVG_NS,"svg");t.setAttribute("version","1.1");t.setAttribute("xmlns",SVG_NS);t.setAttribute("xmlns:xlink",SVG_XLINKNS);return t};static createSvgPath=()=>{return document.createElementNS(SVG_NS,"path")};static appendLine(t,e,n,r,o,i,s){const a=document.createElementNS(SVG_NS,"line");a.setAttribute("x1",`${n}mm`);a.setAttribute("x2",`${r}mm`);a.setAttribute("y1",`${o}mm`);a.setAttribute("y2",`${i}mm`);if(s){s.left=Math.min(s.left,n,r);s.right=Math.max(s.right,n,r);s.top=Math.min(s.top,o,i);s.bottom=Math.max(s.bottom,o,i)}a.setAttribute("style",e);t.appendChild(a)}static appendCircle(t,e,n,r,o,i){const s=document.createElementNS(SVG_NS,"circle");s.setAttribute("cx",`${n}mm`);s.setAttribute("cy",`${r}mm`);s.setAttribute("r",`${o}mm`);s.setAttribute("fill","#ffffff");if(i){i.left=Math.min(i.left,n-o);i.right=Math.max(i.right,n+o);i.top=Math.min(i.top,r-o);i.bottom=Math.max(i.bottom,r+o)}s.setAttribute("style",e);t.appendChild(s)}static appendTspan(t,e,n,r,o){if(typeof r==="number"){r=`${r}mm`}if(typeof o==="number"){o=`${o}mm`}const i=document.createElementNS(SVG_NS,"tspan");i.setAttribute("dx",`${r}`);i.setAttribute("dy",`${o}`);i.setAttribute("style",e.concat("dominant-baseline:middle;text-anchor:middle;",n==="6"||n==="9"?"text-decoration:underline;":"",n==="ü"?"opacity:0.85;font-size:0.9em;":""));i.innerHTML=n;t.appendChild(i)}static appendText(t,e,r,n,o,i,s,a,l=false){const c=document.createElementNS(SVG_NS,"text");c.setAttribute("x",`${n}mm`);c.setAttribute("y",`${o}mm`);t.appendChild(c);if(isI18nable(r)){r=r;r=`<en>${r.en}</en><zh_cn>${r.zh_cn}</zh_cn><zh_tw>${r.zh_tw}</zh_tw>`}r=r;if(r.indexOf("<en>")>-1){const m=getCurrentLang();const g=`<${m}>`;const p=`</${m}>`;if(r.indexOf(g)>-1){r=r.split(g)[1].split(p)[0]}}r=r.replace(/<br \/>/gi,"<br/>").replace(/<br\/>/gi,"<br>").replace(/\\n/gi,"<br>");if(r.indexOf("<br>")>-1){const u=e.indexOf("font-size:")>-1?e.split("font-size:")[1].split(";")[0]:"2mm";const d=u.replace(/[0-9.]/gi,"");const A=parseFloat(u.replace(d,""));const h=r.split("<br>");let n=0;const E=`${A}${d}`;h.forEach((t,e)=>{SvgHelper.appendTspan(c,"",t,e?`-${n}em`:"0",e?E:"0");n=t.length})}else{if(l){r.split("").forEach((t,e)=>{SvgHelper.appendTspan(c,"",t,"0","0")})}else{SvgHelper.appendTspan(c,"",r,"0","0")}}if(a){const _=c.getClientRects();const{left:f,right:T,top:x,bottom:S}=_.length?_.item(0):c.getBoundingClientRect();a.left=Math.min(a.left,f,T);a.right=Math.max(a.right,f,T);a.top=Math.min(a.top,x,S);a.bottom=Math.max(a.bottom,x,S)}e=e.concat("dominant-baseline:middle;text-anchor:middle;".concat(i?`transform: rotate(${i}deg);transform-origin:${n}mm ${o}mm;`:""));c.setAttribute("style",e)}static setSvgTextInfo(t,e,n,r){t.x=e;t.y=n;t.rotate=r}static appendOuterPath(t,e,n,r,o){t.setAttribute("width",`${e}mm`);t.setAttribute("height",`${n}mm`);const i=r*e;const s=r*n;const a=SvgHelper.createSvgPath();a.setAttribute("fill","none");a.setAttribute("stroke",o);a.setAttribute("d",`M 0, 0 `.concat(`h ${i} `,`v ${s} `,`h -${i} `," z"));t.appendChild(a)}static appendOuterLine(t,e,n,r){t.setAttribute("width",`${e}mm`);t.setAttribute("height",`${n}mm`);const{appendLine:o}=SvgHelper;o(t,r,0,e,0,0,null);o(t,r,0,e,n,n,null);o(t,r,0,0,0,n,null);o(t,r,e,e,0,n,null)}static getTextStyleFontSizePatchCss(t,e){if(t>99&&e.indexOf("font-size:")>-1){const n=e.split("font-size:")[1].split(";")[0];const r=n.replace(/[0-9\.\-]/g,"");const o=parseFloat(n.replace(r,""));return`font-size:${o*2/t.toString().length}${r};`}return""}}export{CURRENT_URL};export{HOME_URL};export{SITE_ROOT};export{SITE_IMAGE_PATH};export{SITE_JAVASCRIPT_PATH};export{SITE_CSS_PATH};export{getPageParameterByName};export{LANG_PROPERTY};export{MONTH_FULL_NAME_ARRAY};export{MONTH_NAME_ARRAY};export{parsePageParamsFromUrl};export{getPageCss};export{setF1Content};export{getNumbersArray};export{LOCAL_STORAGE_KEY_OF_LANG};export{LOCAL_STORAGE_KEY_OF_CURRENT_PAGE};export{getCurrentLang};export{setCurrentLang};export{updateUIByCurrentLang};export{getCurrentPageLocalStorage};export{setCurrentPageLocalStorage};export{getChangeLangNotifyArrayOfCurrentPage};export{clearChangeLangNotifyArrayOfCurrentPage};export{DPIHelper};export{isI18nable};export{hide};export{showBlock};export{showInlineBlock};export{showFlex};export{showInlineFlex};export{getElementById};export{getElementByIdAndTagName};export{querySelectorAll};export{querySelectorAllByI18n};export{querySelectorAllByI18nPlaceholder};export{getElementsByTagName};export{getHeadElement};export{getHtmlElement};export{getBodyElement};export{getTitleElement};export{getHeaderElement};export{getFooterElement};export{getMainElement};export{createElement};export{setAttributesOfA};export{stopEventBubble};export{getI18nInnerHTML};export{getI18nInnerHTMLFromDate};export{createPageElement};export{createSvgElement};export{createSvgGElement};export{createSvgAndGElement};export{appendSvgAndG};export{createTopSvgElement};export{SVG_NS};export{SVG_XLINKNS};export{SvgHelper};